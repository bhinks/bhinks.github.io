<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <title>
    OMG!stats - OMG!ninjabot
  </title>
  <link rel="stylesheet" href="/assets/css/main.css">
  <script type="text/javascript" src=""></script>
  <link rel="stylesheet" href="https://uicdn.toast.com/tui.chart/latest/tui-chart.min.css">
  <script src="https://uicdn.toast.com/tui.chart/latest/tui-chart.min.js"></script>

  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>OMG!stats | OMG!ninjabot</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="OMG!stats" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A random output stream of questionable value." />
<meta property="og:description" content="A random output stream of questionable value." />
<link rel="canonical" href="https://ninjabot.me/stats/" />
<meta property="og:url" content="https://ninjabot.me/stats/" />
<meta property="og:site_name" content="OMG!ninjabot" />
<script type="application/ld+json">
{"url":"https://ninjabot.me/stats/","@type":"WebPage","headline":"OMG!stats","description":"A random output stream of questionable value.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


</head>


  <body class="">

    <header>
  <div class="menu">
    <ul>
      <li class="page_title">OMG!stats</li>
<li><a href="/">/home</a></li>
<li><a href="/about/">/about</a></li>
<li><a href="/stats/">/stats</a></li>
</ul>
  </div>
</header>


    <script>
    function loadJSON(callback) {   
        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType("application/json");
        xobj.open('GET', '/assets/stats.json', true);
        xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == "200") {
                // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                callback(xobj.responseText);
            }
        };
        xobj.send(null);  
    }

    function init() {
        loadJSON(function(response) {
        // Parse JSON string into object
            var players = JSON.parse(response);
            //console.log(players);

            for (let [name, player] of Object.entries(players)) {
                $(".player_tables").append(
                    "<h2>" + name + "'s Opponents</h2>" +
                    "<div id='" + name.replace('[','').replace(']','') + "-ochart'></div>"
                );
                var container = document.getElementById(name.replace('[','').replace(']','') + "-ochart");
                // var data = {
                //     categories: [],
                //     series: [
                //         {
                //             name: "Killed",
                //             data: []
                //         },
                //         {
                //             name: "Killed By",
                //             data: []
                //         }

                //     ]
                // };
                // for (let [opp_name, opp] of Object.entries(player["opponents"])) {
                //     data["categories"].push(opp_name);
                //     data["series"][0]["data"].push(opp["kills"]);
                //     data["series"][1]["data"].push(opp["deaths"]);
                // }
                var data = {
                    categories: ['June', 'July', 'Aug', 'Sep', 'Oct', 'Nov'],
                    series: [
                        {
                            name: 'Budget',
                            data: [5000, 3000, 5000, 7000, 6000, 4000]
                        },
                        {
                            name: 'Income',
                            data: [8000, 1000, 7000, 2000, 5000, 3000]
                        }
                    ]
                };
                console.log(data);
                var options = {
                    chart: {
                        width: 1160,
                        height: 650,
                        title: name + "'s Opponents",
                        format: '1,000'
                    },
                    yAxis: {
                        title: 'Opponent'
                    },
                    xAxis: {
                        title: 'Frags',
                        min: 0,
                        max: 9000
                    },
                    series: {
                        showLabel: true
                    }
                };
                var theme = {
                    series: {
                        colors: [
                            '#83b14e', '#458a3f', '#295ba0', '#2a4175', '#289399',
                            '#289399', '#617178', '#8a9a9a', '#516f7d', '#dddddd'
                        ]
                    }
                };
                tui.chart.barChart(container, data, options);







                for (let [opp_name, opp] of Object.entries(player["opponents"])) {
                    $("#" + name.replace('[','').replace(']','') + "-otable").append(
                        "<tr><td>" + opp_name + "</td>" +
                        "<td>" + opp["kills"] + "</td>" +
                        "<td>" + opp["deaths"] + "</td></tr>"
                    );
                }
                $(".player_tables").append("</tbody></table>");

                $(".player_tables").append(
                    "<h2>" + name + " Weapons</h2>" +
                    "<table border='1'>" +
                    "<tr><th>Weapon</th><th>Killed With</th><th>Killed By</th></tr><tbody id='" + name.replace('[','').replace(']','') + "-wtable'>"
                );

                for (let [weap_name, weap] of Object.entries(player["weapons"])) {
                    $("#" + name.replace('[','').replace(']','') + "-wtable").append(
                        "<tr><td>" + weap_name + "</td>" +
                        "<td>" + weap["kills"] + "</td>" +
                        "<td>" + weap["deaths"] + "</td></tr>"
                    );
                }
                $(".player_tables").append("</tbody></table>");
                
            }

        });
    }

    init();
    
</script>

<div class="player_tables">

</div>



    <footer>

  OMG!ninjabot/stats
  <br><br>
   <img class="emoji" title=":octocat:" alt=":octocat:" src="https://github.githubassets.com/images/icons/emoji/octocat.png" height="20" width="20"> <a href="https://github.com/bhinks">@bhinks</a> 
   <img class="emoji" title=":bird:" alt=":bird:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f426.png" height="20" width="20"> <a href="https://twitter.com/ninjabot">@ninjabot</a> 
   <img class="emoji" title=":briefcase:" alt=":briefcase:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bc.png" height="20" width="20"> <a href="https://www.linkedin.com/in/brenthinks/">@brenthinks</a> 
   <img class="emoji" title=":video_game:" alt=":video_game:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f3ae.png" height="20" width="20"> <a href="https://steamcommunity.com/id/ninjabot/">@ninjabot</a> 


</footer>


  </body>
</html>
